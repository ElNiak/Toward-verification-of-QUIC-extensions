Starting PicoQUIC connection to server IP = localhost, port = 4443
No root crt list specified, certificate will not be verified.
0af6eb0184b5ed26: Sending packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <0af6eb0184b5ed26>, <e996837ea3722f52>, Seq: 0, pl: 1227
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Prepared 1207 bytes
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 305: 0100012d0303fa75...
0af6eb0184b5ed26:     padding, 898 bytes

0af6eb0184b5ed26: Sending 1252 bytes to 127.0.0.1:4443 at T=0.000000 (5adff72dad79e)
oquic/picoquic/sender.c:1123 [picoquic_retransmit_needed]: Retransmit packet type 2, pc=2, seq = 0, is_client = 1

0af6eb0184b5ed26: Sending packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <0af6eb0184b5ed26>, <e996837ea3722f52>, Seq: 1, pl: 1227
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Prepared 1207 bytes
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 305: 0100012d0303fa75...
0af6eb0184b5ed26:     padding, 898 bytes

0af6eb0184b5ed26: Sending 1252 bytes to 127.0.0.1:4443 at T=1.001758 (5adff72ea20bc)
oquic/picoquic/sender.c:1123 [picoquic_retransmit_needed]: Retransmit packet type 2, pc=2, seq = 1, is_client = 1

0af6eb0184b5ed26: Sending packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <0af6eb0184b5ed26>, <e996837ea3722f52>, Seq: 2, pl: 1227
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Prepared 1207 bytes
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 305: 0100012d0303fa75...
0af6eb0184b5ed26:     padding, 898 bytes

0af6eb0184b5ed26: Sending 1252 bytes to 127.0.0.1:4443 at T=2.003174 (5adff72f96884)
Select returns 1232, from length 16
Local address updated
0af6eb0184b5ed26: Receiving 1232 bytes from 127.0.0.1:4443 at T=2.251970 (5adff72fd3460)
0af6eb0184b5ed26: Receiving packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <e996837ea3722f52>, <0000000000000290>, Seq: 0, pl: 1207
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Decrypted 1190 bytes
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 155: 020000970303f144...
0af6eb0184b5ed26:     ACK (nb=0), 2
0af6eb0184b5ed26:     padding, 1026 bytes

Processed 1232 bytes, state = 7 (client_handshake_start), return 0

0af6eb0184b5ed26: Sending packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <0000000000000290>, <e996837ea3722f52>, Seq: 3, pl: 25
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Prepared 5 bytes
0af6eb0184b5ed26:     ACK (nb=0), 0

0af6eb0184b5ed26: Sending 50 bytes to 127.0.0.1:4443 at T=2.252123 (5adff72fd34f9)
Select returns 1407, from length 16
0af6eb0184b5ed26: Receiving 1407 bytes from 127.0.0.1:4443 at T=2.344203 (5adff72fe9ca9)
0af6eb0184b5ed26: Receiving packet type: 4 (handshake), S0, Version ff000012,
0af6eb0184b5ed26:     <e996837ea3722f52>, <0000000000000290>, Seq: 0, pl: 1383
0af6eb0184b5ed26:     Decrypted 1366 bytes
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 1346: 0800003d003b0000...
0af6eb0184b5ed26:     padding, 16 bytes

Processed 1407 bytes, state = 10 (client_almost_ready), return 0

Almost ready!

0af6eb0184b5ed26: Sending packet type: 4 (handshake), S0, Version ff000012,
0af6eb0184b5ed26:     <0000000000000290>, <e996837ea3722f52>, Seq: 0, pl: 80
0af6eb0184b5ed26:     Prepared 60 bytes
0af6eb0184b5ed26:     ACK (nb=0), 0
0af6eb0184b5ed26:     Crypto HS frame, offset 0, length 52: 14000030cf47898c...

0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S0,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 0 (0), Phi: 0,
0af6eb0184b5ed26:     Prepared 216 bytes
0af6eb0184b5ed26:     NEW CONNECTION ID[1]: 0xda3083dccb219d8b, 76e8514dcc0e8eee682e0bcb96647933
0af6eb0184b5ed26:     NEW CONNECTION ID[2]: 0xd4161ea574812258, af6706c73ec13b65772f6151dfd12f1b
0af6eb0184b5ed26:     NEW CONNECTION ID[3]: 0xad5fcb1f53cca603, d12b61c8b464ccb97aec593b7ab5b3ba
0af6eb0184b5ed26:     NEW CONNECTION ID[4]: 0x3b28de11ce161b32, 4d36f51b7f504b39a00bc786ceb96685
0af6eb0184b5ed26:     NEW CONNECTION ID[5]: 0x63356679450f7faf, 61ada5965cf649b702267c3f9fda7827
0af6eb0184b5ed26:     NEW CONNECTION ID[6]: 0x059d88b16d69e27f, 531b207b9f5e9d2f109f6e75c084d98b
0af6eb0184b5ed26:     NEW CONNECTION ID[7]: 0x257257d4a9e5a8e8, 1823e3f77ae76baf37f89b835b294e0b
0af6eb0184b5ed26:     NEW CONNECTION ID[8]: 0x989013afa1c93d88, 1142edc82bfd5a33ae92a716d6df2c3b

0af6eb0184b5ed26: Sending 349 bytes to 127.0.0.1:4443 at T=2.344275 (5adff72fe9cf1)
Received SNI: localhost
ALPN not received.
Received transport parameter TLS extension (51 bytes):
Version: ff000012
    Supported version (8 bytes):
        ff000012
        49565931
    Extension list (36 bytes):
        Extension type: 5, length 2 (0x0005 / 0x0002), 6000
        Extension type: 4, length 4 (0x0004 / 0x0004), 80004000
        Extension type: 1, length 1 (0x0001 / 0x0001), 3c
        Extension type: 6, length 2 (0x0006 / 0x0002), 6000
        Extension type: 7, length 2 (0x0007 / 0x0002), 6000
        Extension type: 8, length 1 (0x0008 / 0x0001), 02

Connection established. Version = ff000012, I-CID: af6eb0184b5ed26
Opening stream 0 to GET /index.html
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S0,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 1 (1), Phi: 0,
0af6eb0184b5ed26:     Prepared 24 bytes
0af6eb0184b5ed26:     Stream 0, offset 0, length 17, fin = 1: 474554202f696e64...
0af6eb0184b5ed26:     padding, 4 bytes

0af6eb0184b5ed26: Sending 53 bytes to 127.0.0.1:4443 at T=2.344391 (5adff72fe9d65)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S0,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 2 (2), Phi: 0,
0af6eb0184b5ed26:     Prepared 1411 bytes
0af6eb0184b5ed26:     ping, 1 bytes
0af6eb0184b5ed26:     padding, 1410 bytes

0af6eb0184b5ed26: Sending 1440 bytes to 127.0.0.1:4443 at T=2.344437 (5adff72fe9d93)
Select returns 1232, from length 16
0af6eb0184b5ed26: Receiving 1232 bytes from 127.0.0.1:4443 at T=2.576910 (5adff730229ac)
0af6eb0184b5ed26: Receiving packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <e996837ea3722f52>, <0000000000000290>, Seq: 18, pl: 1207
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Decrypted 1190 bytes
0af6eb0184b5ed26:     ACK (nb=0), 3
0af6eb0184b5ed26:     padding, 1185 bytes

Processed 1232 bytes, state = 13 (client_ready_start), return 0

0af6eb0184b5ed26: Sending packet type: 2 (initial), S0, Version ff000012,
0af6eb0184b5ed26:     <0000000000000290>, <e996837ea3722f52>, Seq: 4, pl: 27
0af6eb0184b5ed26:     Token length: 0
0af6eb0184b5ed26:     Prepared 7 bytes
0af6eb0184b5ed26:     ACK (nb=1), 18, 0

0af6eb0184b5ed26: Sending 52 bytes to 127.0.0.1:4443 at T=2.576950 (5adff730229d4)
Select returns 1232, from length 16
0af6eb0184b5ed26: Receiving 1232 bytes from 127.0.0.1:4443 at T=2.801281 (5adff7305961f)
0af6eb0184b5ed26: Receiving packet type: 6 (1rtt protected), S0,
0af6eb0184b5ed26:     <e996837ea3722f52>, Seq: 0 (0), Phi: 0,
0af6eb0184b5ed26:     Decrypted 1206 bytes
0af6eb0184b5ed26:     Stream 0, offset 0, length 4, fin = 1: 666f6f0a
0af6eb0184b5ed26:     ACK (nb=0), 0
0af6eb0184b5ed26:     padding, 1193 bytes

Stream 0 ended after 4 bytes
Opening stream 4 to GET /test.html
Opening stream 8 to GET /1234567
Opening stream 12 to GET /main.jpg
Opening stream 16 to GET /war-and-peace.txt
Opening stream 20 to GET /en/latest/
Opening stream 24 to GET /file-123K
Processed 1232 bytes, state = 14 (ready), return 0

0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 3 (3), Phi: 0,
0af6eb0184b5ed26:     Prepared 24 bytes
0af6eb0184b5ed26:     ACK (nb=0), 0
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...

0af6eb0184b5ed26: Sending 53 bytes to 127.0.0.1:4443 at T=2.801477 (5adff730596e3)
Select returns 1232, from length 16
0af6eb0184b5ed26: Receiving 1232 bytes from 127.0.0.1:4443 at T=3.181673 (5adff730b6407)
0af6eb0184b5ed26: Receiving packet type: 6 (1rtt protected), S0,
0af6eb0184b5ed26:     <e996837ea3722f52>, Seq: 4 (4), Phi: 0,
0af6eb0184b5ed26:     Decrypted 1206 bytes
0af6eb0184b5ed26:     ACK (nb=0), 1
0af6eb0184b5ed26:     MAX STREAM DATA, Stream: 16, max data: 0x10.
0af6eb0184b5ed26:     ACK (nb=0), 2
0af6eb0184b5ed26:     padding, 1193 bytes

Processed 1232 bytes, state = 14 (ready), return 0

0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 4 (4), Phi: 0,
0af6eb0184b5ed26:     Prepared 24 bytes
0af6eb0184b5ed26:     ACK (nb=1), 4, 0
0af6eb0184b5ed26:     padding, 17 bytes

0af6eb0184b5ed26: Sending 53 bytes to 127.0.0.1:4443 at T=3.181718 (5adff730b6434)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 5 (5), Phi: 0,
0af6eb0184b5ed26:     Prepared 29 bytes
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...
0af6eb0184b5ed26:     ACK (nb=1), 4, 0

0af6eb0184b5ed26: Sending 58 bytes to 127.0.0.1:4443 at T=4.474782 (5adff731f1f3c)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 6 (6), Phi: 0,
0af6eb0184b5ed26:     Prepared 29 bytes
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...
0af6eb0184b5ed26:     ACK (nb=1), 4, 0

0af6eb0184b5ed26: Sending 58 bytes to 127.0.0.1:4443 at T=5.475686 (5adff732e6504)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 7 (7), Phi: 0,
0af6eb0184b5ed26:     Prepared 29 bytes
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...
0af6eb0184b5ed26:     ACK (nb=1), 4, 0

0af6eb0184b5ed26: Sending 58 bytes to 127.0.0.1:4443 at T=7.478220 (5adff734cf36a)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 8 (8), Phi: 0,
0af6eb0184b5ed26:     Prepared 29 bytes
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...
0af6eb0184b5ed26:     ACK (nb=1), 4, 0

0af6eb0184b5ed26: Sending 58 bytes to 127.0.0.1:4443 at T=11.482550 (5adff738a0d54)
0af6eb0184b5ed26: Sending packet type: 6 (1rtt protected), S1,
0af6eb0184b5ed26:     <0000000000000290>, Seq: 9 (9), Phi: 0,
0af6eb0184b5ed26:     Prepared 29 bytes
0af6eb0184b5ed26:     Stream 4, offset 0, length 16, fin = 1: 474554202f746573...
0af6eb0184b5ed26:     ACK (nb=1), 4, 0

0af6eb0184b5ed26: Sending 58 bytes to 127.0.0.1:4443 at T=19.489066 (5adff740438c8)
oquic/picoquic/sender.c:1107 [picoquic_retransmit_needed]: Too many retransmits, disconnect

Received a request to close the connection.
quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[8] (4d788ad0)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[7] (4d788740)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[6] (4d7883b0)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[5] (4d788020)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[4] (4d787c90)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[3] (4d787900)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[2] (4d787570)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[1] (4d7871e0)

quic/picoquic/quicctx.c:841 [picoquic_delete_path]: delete path[0] (4d781f40)

Client exit with code = 0
